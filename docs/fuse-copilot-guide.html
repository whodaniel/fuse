<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The New Fuse AI Agent Tooling Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            color: #333;
        }
        h1, h2, h3 {
            color: #2c5282;
        }
        code {
            background: #f5f5f5;
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'SF Mono', Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
        }
        pre {
            background: #f5f5f5;
            padding: 1em;
            border-radius: 5px;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1em;
            margin: 1em 0;
        }
        .tip {
            background: #d4edda;
            border-left: 4px solid #28a745;
            padding: 1em;
            margin: 1em 0;
        }
    </style>
</head>
<body>
    <h1>The New Fuse AI Agent Tooling Guide</h1>

    <h2>Core Philosophy</h2>
    <p>The New Fuse implements a sophisticated AI agent system built on these key principles:</p>
    <ul>
        <li>Autonomous Operation: Agents can work independently or collaboratively</li>
        <li>Tool-First Approach: Extensive tooling capabilities for real-world tasks</li>
        <li>Validation & Monitoring: Built-in systems for ensuring reliable operation</li>
        <li>Redis Integration: Robust message passing and state management</li>
    </ul>

    <h2>Available Tools and Capabilities</h2>
    
    <h3>File Operations</h3>
    <ul>
        <li><code>search_by_regex</code>: Fast pattern matching across files</li>
        <li><code>view_files</code>: Examine file contents with line control</li>
        <li><code>list_dir</code>: Directory exploration with depth control</li>
        <li><code>create_file</code>: Create new files with validation</li>
        <li><code>update_file</code>: Precise file modifications</li>
        <li><code>rewrite_file</code>: Complete file content replacement</li>
        <li><code>edit_file_fast_apply</code>: Quick targeted edits</li>
        <li><code>rename_file</code>: Safe file renaming</li>
        <li><code>delete_file</code>: Secure file removal</li>
    </ul>

    <h3>Code Analysis</h3>
    <ul>
        <li><code>get_definition</code>: Symbol definition lookup</li>
        <li><code>get_reference</code>: Find symbol references</li>
    </ul>

    <h3>Process Management</h3>
    <ul>
        <li><code>run_command</code>: Execute system commands</li>
        <li><code>check_command_status</code>: Monitor command execution</li>
        <li><code>stop_command</code>: Terminate running processes</li>
        <li><code>open_preview</code>: Launch preview servers</li>
    </ul>

    <h2>Redis Integration</h2>
    <p>The system uses Redis for:</p>
    <ul>
        <li>Inter-agent communication</li>
        <li>State persistence</li>
        <li>Event streaming</li>
        <li>Task queuing</li>
    </ul>

    <div class="tip">
        <strong>Best Practice:</strong> Use Redis channels for real-time agent coordination and PubSub for event-driven workflows.
    </div>

    <h2>Workflow Validation</h2>
    <p>Every agent operation includes:</p>
    <ul>
        <li>Input parameter validation</li>
        <li>Output format verification</li>
        <li>Error handling protocols</li>
        <li>State consistency checks</li>
    </ul>

    <h2>Advanced Usage Examples</h2>

    <h3>Multi-Agent Collaboration</h3>
    <pre><code>// Agent A: Code Analysis
const results = await searchByRegex('pattern');

// Agent B: Code Modification
await updateFile(results.matches);

// Agent C: Validation
await runTests();</code></pre>

    <h3>Workflow Templates</h3>
    <pre><code>// Code Review Workflow
1. Search for patterns
2. Analyze code structure
3. Generate improvement suggestions
4. Apply approved changes
5. Validate modifications</code></pre>

    <h2>Status Tracking</h2>
    <p>Monitor agent activities through:</p>
    <ul>
        <li>Redis event streams</li>
        <li>Command execution status</li>
        <li>Operation logs</li>
        <li>State snapshots</li>
    </ul>

    <div class="warning">
        <strong>Important:</strong> Always implement proper error handling and validation checks in your agent workflows.
    </div>

    <h2>Troubleshooting</h2>
    <ul>
        <li>Check Redis connection status</li>
        <li>Verify tool permissions</li>
        <li>Monitor command execution logs</li>
        <li>Validate workflow states</li>
    </ul>

    <h2>Version Requirements</h2>
    <ul>
        <li>Redis: 6.2+</li>
        <li>Node.js: 16+</li>
        <li>TypeScript: 4.5+</li>
    </ul>
</body>
</html>
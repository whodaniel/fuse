import { FC, useEffect, useState, JSX } from 'react';
import { FC, useEffect, useState, JSX } from 'react';
import { FC, useEffect, useState, JSX } from 'react';
import { FC, useEffect, useState, JSX } from 'react';
import { FC, useEffect, useState, JSX } from 'react';
import { FC, useEffect, useState, JSX } from 'react';
"use strict";
Object.defineProperty(exports, "__esModule", { value: true }): crypto.randomUUID(),
            content: message.trim(),
            timestamp: new Date(),
            sender: {
                id: user.id,
                type: 'user',
                name: user.name,
            },
            metadata: {
                workspaceId: workspace.id,
                threadId: activeThread.id,
                llmProvider: workspace.llmConfig.defaultProvider,
            },
        };
        // Add user message to the thread
        const updatedMessages: unknown, user }: unknown) {
    const [activeThread, setActiveThread]  = require("react");
const EnhancedChatBubble_1 = require("../chat/EnhancedChatBubble");
const ui_1 = require("../ui");
const agent_llm_1 = require("../../services/llm/agent-llm");
function WorkspaceManager({ workspace(0, react_1.useState): updatedMessages,
        }));
        setMessage('');
        try {
            // Get the active agent
            const activeAgent: Implement agent selection
            // Process message with the agent
            const agentLLM   = (0, react_1.useCallback)(async (): Promise<void> (): Promise<void> (): Promise<void> (): Promise<void> (): Promise<void> (): Promise<void> (): Promise<void> (): Promise<void> () => {
        if (!message.trim() || !activeThread)
            return;
        const newMessage = {
            id [...activeThread.messages, newMessage];
        setActiveThread(prev => ({
            ...prev,
            messages workspace.agents[0]; // TODO agent_llm_1.AgentLLMService.getInstance(): crypto.randomUUID(),
                content: response.content,
                timestamp: new Date(),
                sender: {
                    id: activeAgent.id,
                    type: 'agent',
                    name: activeAgent.name,
                },
                metadata: {
                    workspaceId: workspace.id,
                    threadId: activeThread.id,
                    llmProvider: activeAgent.llmConfig.provider,
                    ...response.metadata,
                },
            };
            setActiveThread(prev  = await agentLLM.processAgentMessage(activeAgent, newMessage, updatedMessages): [...prev.messages, agentMessage],
            }));
        }
        catch(error: unknown) {
            console.error('Error processing message:', error): crypto.randomUUID(),
                content: 'Sorry, I encountered an error processing your message.',
                timestamp: new Date(),
                sender: {
                    id: 'system',
                    type: 'system',
                    name: 'System',
                },
                metadata: {
                    workspaceId: workspace.id,
                    threadId: activeThread.id,
                    llmProvider: workspace.llmConfig.defaultProvider,
                    error: true,
                },
            };
            setActiveThread(prev   = {
                id> ({
                ...prev,
                messages {
                id> ({
                ...prev,
                messages: [...prev.messages, errorMessage],
            }));
        }
    }, [message, activeThread, user, workspace]);
    return (<div className="flex h-full">
      {/* Thread List */}
      <div className="w-64 border-r border-gray-200 dark:border-gray-700 p-4">
        <h2 className="text-lg font-semibold mb-4">Threads</h2>
        {workspace.threads.map(thread => (<ui_1.Button key={thread.id} variant={activeThread?.id === thread.id ? 'primary' : 'secondary'} onClick={() => setActiveThread(thread)} className="w-full mb-2">
            {thread.name}
          </ui_1.Button>))}
      </div>

      {/* Chat Area */}
      <div className="flex-1 flex flex-col">
        {activeThread ? (<>
            <div className="flex-1 overflow-y-auto p-4">
              {activeThread.messages.map(message => (<EnhancedChatBubble_1.EnhancedChatBubble key={message.id} message={message} agents={workspace.agents} workspace={workspace}/>): border-gray-700">
              <div className="flex gap-2">
                <input type="text" value= {message} onChange={e => setMessage(e.target.value): border-gray-600 p-2" placeholder="Type your message..."/>
                <ui_1.Button onClick= {handleSendMessage}>Send</ui_1.Button>
              </div>
            </div>
          </>) : (<div className="flex-1 flex items-center justify-center">
            <ui_1.Card className="p-6">
              <h3 className="text-lg font-semibold mb-2">Select a Thread</h3>
              <p className="text-gray-600 dark:text-gray-400">
                Choose a thread from the sidebar to start chatting
              </p>
            </ui_1.Card>
          </div>)}
      </div>
    </div>);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV29ya3NwYWNlTWFuYWdlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIldvcmtzcGFjZU1hbmFnZXIudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBZUEsNENBcUpDO0FBcEtELGlDQUFxRDtBQUVyRCxtRUFBZ0U7QUFDaEUsOEJBQXFDO0FBQ3JDLDREQUErRDtBQVcvRCxTQUFnQixnQkFBZ0IsQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQXlCO0lBQ3pFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFvQixJQUFJLENBQUMsQ0FBQztJQUMxRSxNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUUzQyxNQUFNLGlCQUFpQixHQUFHLElBQUEsbUJBQVcsRUFBQyxLQUFLLElBQUksRUFBRTtRQUMvQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWTtZQUFFLE9BQU87UUFFN0MsTUFBTSxVQUFVLEdBQW1CO1lBQ2pDLEVBQUUsRUFBRSxNQUFNLENBQUMsVUFBVSxFQUFFO1lBQ3ZCLE9BQU8sRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFO1lBQ3ZCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtZQUNyQixNQUFNLEVBQUU7Z0JBQ04sRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUNYLElBQUksRUFBRSxNQUFNO2dCQUNaLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTthQUNoQjtZQUNELFFBQVEsRUFBRTtnQkFDUixXQUFXLEVBQUUsU0FBUyxDQUFDLEVBQUU7Z0JBQ3pCLFFBQVEsRUFBRSxZQUFZLENBQUMsRUFBRTtnQkFDekIsV0FBVyxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsZUFBZTthQUNqRDtTQUNGLENBQUM7UUFFRixpQ0FBaUM7UUFDakMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFH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LENBQ0osSUFBSSxDQUFDLE1BQU0sQ0FDWCxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FDZixRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQzFDLFNBQVMsQ0FBQyxtRUFBbUUsQ0FDN0UsV0FBVyxDQUFDLHNCQUFzQixFQUVwQztnQkFBQSxDQUFDLFdBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLElBQUksRUFBRSxXQUFNLENBQ2xEO2NBQUEsRUFBRSxHQUFHLENBQ1A7WUFBQSxFQUFFLEdBQUcsQ0FDUDtVQUFBLEdBQUcsQ0FDSixDQUFDLENBQUMsQ0FBQyxDQUNGLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyx5Q0FBeUMsQ0FDdEQ7WUFBQSxDQUFDLFNBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUNuQjtjQUFBLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUM5RDtjQUFBLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxrQ0FBa0MsQ0FDN0M7O2NBQ0YsRUFBRSxDQUFDLENBQ0w7WUFBQSxFQUFFLFNBQUksQ0FDUjtVQUFBLEVBQUUsR0FBRyxDQUFDLENBQ1AsQ0FDSDtNQUFBLEVBQUUsR0FBRyxDQUNQO0lBQUEsRUFBRSxHQUFHLENBQUMsQ0FDUCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBVbmlmaWVkV29ya3NwYWNlLCBVbmlmaWVkTWVzc2FnZSwgQ2hhdFRocmVhZCB9IGZyb20gJy4uLy4uL3R5cGVzL3VuaWZpZWQnO1xuaW1wb3J0IHsgRW5oYW5jZWRDaGF0QnViYmxlIH0gZnJvbSAnLi4vY2hhdC9FbmhhbmNlZENoYXRCdWJibGUnO1xuaW1wb3J0IHsgQnV0dG9uLCBDYXJkIH0gZnJvbSAnLi4vdWknO1xuaW1wb3J0IHsgQWdlbnRMTE1TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbGxtL2FnZW50LWxsbSc7XG5pbXBvcnQgU2lkZWJhciBmcm9tICcuLi9jb21tb24vc2lkZWJhcic7XG5cbmludGVyZmFjZSBXb3Jrc3BhY2VNYW5hZ2VyUHJvcHMge1xuICB3b3Jrc3BhY2U6IFVuaWZpZWRXb3Jrc3BhY2U7XG4gIHVzZXI6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFdvcmtzcGFjZU1hbmFnZXIoeyB3b3Jrc3BhY2UsIHVzZXIgfTogV29ya3NwYWNlTWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IFthY3RpdmVUaHJlYWQsIHNldEFjdGl2ZVRocmVhZF0gPSB1c2VTdGF0ZTxDaGF0VGhyZWFkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcblxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW1lc3NhZ2UudHJpbSgpIHx8ICFhY3RpdmVUaHJlYWQpIHJldHVybjtcblxuICAgIGNvbnN0IG5ld01lc3NhZ2U6IFVuaWZpZWRNZXNzYWdlID0ge1xuICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICBjb250ZW50OiBtZXNzYWdlLnRyaW0oKSxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIHNlbmRlcjoge1xuICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgdHlwZTogJ3VzZXInLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICB9LFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZS5pZCxcbiAgICAgICAgdGhyZWFkSWQ6IGFjdGl2ZVRocmVhZC5pZCxcbiAgICAgICAgbGxtUHJvdmlkZXI6IHdvcmtzcGFjZS5sbG1Db25maWcuZGVmYXVsdFByb3ZpZGVyLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gQWRkIHVzZXIgbWVzc2FnZSB0byB0aGUgdGhyZWFkXG4gICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gWy4uLmFjdGl2ZVRocmVhZC5tZXNzYWdlcywgbmV3TWVzc2FnZV07XG4gICAgc2V0QWN0aXZlVGhyZWFkKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYhLFxuICAgICAgbWVzc2FnZXM6IHVwZGF0ZWRNZXNzYWdlcyxcbiAgICB9KSk7XG4gICAgc2V0TWVzc2FnZSgnJyk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gR2V0IHRoZSBhY3RpdmUgYWdlbnRcbiAgICAgIGNvbnN0IGFjdGl2ZUFnZW50ID0gd29ya3NwYWNlLmFnZW50c1swXTsgLy8gVE9ETzogSW1wbGVtZW50IGFnZW50IHNlbGVjdGlvblxuICAgICAgXG4gICAgICAvLyBQcm9jZXNzIG1lc3NhZ2Ugd2l0aCB0aGUgYWdlbnRcbiAgICAgIGNvbnN0IGFnZW50TExNID0gQWdlbnRMTE1TZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFnZW50TExNLnByb2Nlc3NBZ2VudE1lc3NhZ2UoXG4gICAgICAgIGFjdGl2ZUFnZW50LFxuICAgICAgICBuZXdNZXNzYWdlLFxuICAgICAgICB1cGRhdGVkTWVzc2FnZXNcbiAgICAgICk7XG5cbiAgICAgIC8vIEFkZCBhZ2VudCByZXNwb25zZSB0byB0aGUgdGhyZWFkXG4gICAgICBjb25zdCBhZ2VudE1lc3NhZ2U6IFVuaWZpZWRNZXNzYWdlID0ge1xuICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgY29udGVudDogcmVzcG9uc2UuY29udGVudCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICBpZDogYWN0aXZlQWdlbnQuaWQsXG4gICAgICAgICAgdHlwZTogJ2FnZW50JyxcbiAgICAgICAgICBuYW1lOiBhY3RpdmVBZ2VudC5uYW1lLFxuICAgICAgICB9LFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIHdvcmtzcGFjZUlkOiB3b3Jrc3BhY2UuaWQsXG4gICAgICAgICAgdGhyZWFkSWQ6IGFjdGl2ZVRocmVhZC5pZCxcbiAgICAgICAgICBsbG1Qcm92aWRlcjogYWN0aXZlQWdlbnQubGxtQ29uZmlnLnByb3ZpZGVyLFxuICAgICAgICAgIC4uLnJlc3BvbnNlLm1ldGFkYXRhLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgc2V0QWN0aXZlVGhyZWFkKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldiEsXG4gICAgICAgIG1lc3NhZ2VzOiBbLi4ucHJldiEubWVzc2FnZXMsIGFnZW50TWVzc2FnZV0sXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHByb2Nlc3NpbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICAvLyBBZGQgZXJyb3IgbWVzc2FnZSB0byB0aHJlYWRcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZTogVW5pZmllZE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICBjb250ZW50OiAnU29ycnksIEkgZW5jb3VudGVyZWQgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIG1lc3NhZ2UuJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICBpZDogJ3N5c3RlbScsXG4gICAgICAgICAgdHlwZTogJ3N5c3RlbScsXG4gICAgICAgICAgbmFtZTogJ1N5c3RlbScsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgd29ya3NwYWNlSWQ6IHdvcmtzcGFjZS5pZCxcbiAgICAgICAgICB0aHJlYWRJZDogYWN0aXZlVGhyZWFkLmlkLFxuICAgICAgICAgIGxsbVByb3ZpZGVyOiB3b3Jrc3BhY2UubGxtQ29uZmlnLmRlZmF1bHRQcm92aWRlcixcbiAgICAgICAgICBlcnJvcjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIHNldEFjdGl2ZVRocmVhZChwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYhLFxuICAgICAgICBtZXNzYWdlczogWy4uLnByZXYhLm1lc3NhZ2VzLCBlcnJvck1lc3NhZ2VdLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwgW21lc3NhZ2UsIGFjdGl2ZVRocmVhZCwgdXNlciwgd29ya3NwYWNlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1mdWxsXCI+XG4gICAgICB7LyogVGhyZWFkIExpc3QgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNjQgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNFwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTRcIj5UaHJlYWRzPC9oMj5cbiAgICAgICAge3dvcmtzcGFjZS50aHJlYWRzLm1hcCh0aHJlYWQgPT4gKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGtleT17dGhyZWFkLmlkfVxuICAgICAgICAgICAgdmFyaWFudD17YWN0aXZlVGhyZWFkPy5pZCA9PT0gdGhyZWFkLmlkID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSd9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUaHJlYWQodGhyZWFkKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtYi0yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7dGhyZWFkLm5hbWV9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBDaGF0IEFyZWEgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgIHthY3RpdmVUaHJlYWQgPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTRcIj5cbiAgICAgICAgICAgICAge2FjdGl2ZVRocmVhZC5tZXNzYWdlcy5tYXAobWVzc2FnZSA9PiAoXG4gICAgICAgICAgICAgICAgPEVuaGFuY2VkQ2hhdEJ1YmJsZVxuICAgICAgICAgICAgICAgICAga2V5PXttZXNzYWdlLmlkfVxuICAgICAgICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIGFnZW50cz17d29ya3NwYWNlLmFnZW50c31cbiAgICAgICAgICAgICAgICAgIHdvcmtzcGFjZT17d29ya3NwYWNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17bWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCBwLTJcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgbWVzc2FnZS4uLlwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2hhbmRsZVNlbmRNZXNzYWdlfT5TZW5kPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5TZWxlY3QgYSBUaHJlYWQ8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIENob29zZSBhIHRocmVhZCBmcm9tIHRoZSBzaWRlYmFyIHRvIHN0YXJ0IGNoYXR0aW5nXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl19
export {};
